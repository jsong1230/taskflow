# ============================================
# Production Environment Configuration
# ============================================
# IMPORTANT: Copy this file to .env.production and update with your production values
# DO NOT commit .env.production to version control!

# ============================================
# Database Configuration (Production)
# ============================================
POSTGRES_USER=taskflow_prod
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
POSTGRES_DB=taskflow_prod

# Database connection URL
# For production, use the docker service name 'db' as host
DATABASE_URL=postgresql+asyncpg://taskflow_prod:CHANGE_ME_STRONG_PASSWORD_HERE@db:5432/taskflow_prod

# ============================================
# Security & Authentication (Production)
# ============================================
# Generate a secure JWT secret: openssl rand -hex 32
JWT_SECRET_KEY=CHANGE_ME_GENERATE_SECURE_KEY_HERE

# JWT configuration
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# Backend Configuration (Production)
# ============================================
# CORS allowed origins - use your production domain
BACKEND_CORS_ORIGINS=https://taskflow.example.com,https://www.taskflow.example.com

# Backend port (internal, not exposed to host)
BACKEND_PORT=8000

# ============================================
# Frontend Configuration (Production)
# ============================================
# Production API URL - use your production domain or internal service name
# For internal service-to-service communication: http://backend:8000
# For client-side calls through nginx: https://taskflow.example.com/api
NEXT_PUBLIC_API_URL=https://taskflow.example.com/api

# Frontend port (internal, not exposed to host)
FRONTEND_PORT=3000

# ============================================
# Production Settings
# ============================================
# Disable debug mode in production
DEBUG=false

# Log level (INFO or WARNING recommended for production)
LOG_LEVEL=INFO

# ============================================
# SSL/TLS Configuration (if using direct SSL)
# ============================================
# SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
# SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ============================================
# Email Configuration (Optional)
# ============================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-email-password
# SMTP_FROM=noreply@taskflow.example.com

# ============================================
# Monitoring & Logging (Optional)
# ============================================
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# LOG_FILE_PATH=/var/log/taskflow/app.log

# ============================================
# Backup Configuration (Optional)
# ============================================
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30
# BACKUP_PATH=/backups

# ============================================
# Deployment Checklist
# ============================================
# Before deploying to production:
# [ ] Generate strong POSTGRES_PASSWORD
# [ ] Generate secure JWT_SECRET_KEY
# [ ] Update BACKEND_CORS_ORIGINS with production domain
# [ ] Set NEXT_PUBLIC_API_URL to production API URL
# [ ] Set DEBUG=false
# [ ] Set appropriate LOG_LEVEL
# [ ] Configure SSL certificates in nginx
# [ ] Set up regular database backups
# [ ] Configure monitoring and alerting
# [ ] Review and adjust resource limits in docker-compose.prod.yml
# [ ] Test all health check endpoints
# [ ] Set up log rotation
# [ ] Configure firewall rules
# [ ] Enable rate limiting in nginx
# [ ] Set up CDN for static assets (optional)
