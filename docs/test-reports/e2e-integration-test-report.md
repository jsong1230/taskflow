# TaskFlow E2E ν†µν•© ν…μ¤νΈ λ³΄κ³ μ„

## π“ ν…μ¤νΈ κ°μ”

**ν…μ¤νΈ μΌμ‹**: 2026-02-11
**ν…μ¤νΈ ν™κ²½**: Docker Compose (PostgreSQL 16 + FastAPI + Next.js 15)
**ν…μ¤νΈ λ„κµ¬**: Bash Script + curl + Python3
**API Base URL**: http://localhost:8000

## β… ν…μ¤νΈ κ²°κ³Ό μ”μ•½

| κµ¬λ¶„ | μ΄ ν…μ¤νΈ | μ„±κ³µ | μ‹¤ν¨ | μ„±κ³µλ¥  |
|------|-----------|------|------|--------|
| **μ£Όμ” μ‹λ‚λ¦¬μ¤** | 12 | 12 | 0 | 100% |
| **μ—λ¬ μΌ€μ΄μ¤** | 5 | 5 | 0 | 100% |
| **μ „μ²΄** | **17** | **17** | **0** | **100%** |

---

## π― μ£Όμ” μ‚¬μ©μ μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ (12κ°)

### 1. Health Check β…
**μ—”λ“ν¬μΈνΈ**: `GET /api/v1/health`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**μ‘λ‹µ**:
```json
{
  "status": "ok",
  "message": "TaskFlow API is running"
}
```

### 2. μ‚¬μ©μ νμ›κ°€μ… β…
**μ—”λ“ν¬μΈνΈ**: `POST /api/v1/auth/register`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- κ³ μ ν• μ΄λ©”μΌλ΅ νμ›κ°€μ…
- λΉ„λ°€λ²νΈ μ•”νΈν™” ν™•μΈ
- μ‚¬μ©μ μ •λ³΄ λ°ν™ ν™•μΈ

### 3. μ‚¬μ©μ λ΅κ·ΈμΈ β…
**μ—”λ“ν¬μΈνΈ**: `POST /api/v1/auth/login`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- JWT ν† ν° λ°κΈ‰ ν™•μΈ
- ν† ν° κµ¬μ΅° κ²€μ¦ (header.payload.signature)
- Bearer ν† ν° νƒ€μ… ν™•μΈ

### 4. ν„μ¬ μ‚¬μ©μ μ •λ³΄ μ΅°ν β…
**μ—”λ“ν¬μΈνΈ**: `GET /api/v1/auth/me`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- JWT μΈμ¦ ν™•μΈ
- μ‚¬μ©μ μ΄λ©”μΌ μΌμΉ ν™•μΈ

### 5. ν”„λ΅μ νΈ μƒμ„± β…
**μ—”λ“ν¬μΈνΈ**: `POST /api/v1/projects`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- ν”„λ΅μ νΈ μƒμ„± ν›„ ID λ°ν™ ν™•μΈ
- μ†μ μ μλ™ μ„¤μ • ν™•μΈ

### 6. ν”„λ΅μ νΈ λ©λ΅ μ΅°ν β…
**μ—”λ“ν¬μΈνΈ**: `GET /api/v1/projects`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- μƒμ„±ν• ν”„λ΅μ νΈκ°€ λ©λ΅μ— ν¬ν•¨λλ”μ§€ ν™•μΈ
- ν”„λ΅μ νΈ κ°μ κ²€μ¦

### 7. νƒμ¤ν¬ μƒμ„± β…
**μ—”λ“ν¬μΈνΈ**: `POST /api/v1/projects/{project_id}/tasks`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- νƒμ¤ν¬ μƒμ„± ν›„ ID λ°ν™ ν™•μΈ
- μ΄κΈ° μƒνƒ "todo" μ„¤μ • ν™•μΈ
- μ°μ„ μμ„ "high" μ„¤μ • ν™•μΈ

### 8. νƒμ¤ν¬ λ©λ΅ μ΅°ν β…
**μ—”λ“ν¬μΈνΈ**: `GET /api/v1/projects/{project_id}/tasks`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- μƒμ„±ν• νƒμ¤ν¬κ°€ λ©λ΅μ— ν¬ν•¨λλ”μ§€ ν™•μΈ
- νƒμ¤ν¬ κ°μ κ²€μ¦

### 9. νƒμ¤ν¬ μƒνƒ λ³€κ²½ β…
**μ—”λ“ν¬μΈνΈ**: `PATCH /api/v1/projects/{project_id}/tasks/{task_id}/status`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- μƒνƒλ¥Ό "todo" β†’ "in_progress"λ΅ λ³€κ²½
- μƒνƒ λ³€κ²½ μ¦‰μ‹ λ°μ ν™•μΈ

### 10. νƒμ¤ν¬ μƒμ„Έ μ΅°ν β…
**μ—”λ“ν¬μΈνΈ**: `GET /api/v1/projects/{project_id}/tasks/{task_id}`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- λ³€κ²½λ μƒνƒ "in_progress" ν™•μΈ
- νƒμ¤ν¬ μ„Έλ¶€ μ •λ³΄ λ°ν™ ν™•μΈ

### 11. λ“κΈ€ μ‘μ„± β…
**μ—”λ“ν¬μΈνΈ**: `POST /api/v1/projects/{project_id}/tasks/{task_id}/comments`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- λ“κΈ€ μƒμ„± ν›„ ID λ°ν™ ν™•μΈ
- μ‘μ„±μ μ •λ³΄ μλ™ μ„¤μ • ν™•μΈ

### 12. λ“κΈ€ λ©λ΅ μ΅°ν β…
**μ—”λ“ν¬μΈνΈ**: `GET /api/v1/projects/{project_id}/tasks/{task_id}/comments`
**κ²°κ³Ό**: μ„±κ³µ (HTTP 200)
**ν…μ¤νΈ λ‚΄μ©**:
- μ‘μ„±ν• λ“κΈ€μ΄ λ©λ΅μ— ν¬ν•¨λλ”μ§€ ν™•μΈ
- λ“κΈ€ κ°μ κ²€μ¦

---

## β μ—λ¬ μΌ€μ΄μ¤ ν…μ¤νΈ (5κ°)

### 1. μΈμ¦ μ—†μ΄ API μ ‘κ·Ό β…
**ν…μ¤νΈ λ‚΄μ©**: Authorization ν—¤λ” μ—†μ΄ λ³΄νΈλ μ—”λ“ν¬μΈνΈ νΈμ¶
**μμƒ κ²°κ³Ό**: HTTP 401 Unauthorized
**μ‹¤μ  κ²°κ³Ό**: HTTP 401 β…
**ν‰κ°€**: μΈμ¦ λ―Έλ“¤μ›¨μ–΄κ°€ μ •μƒ μ‘λ™

### 2. μλ»λ ν† ν°μΌλ΅ API μ ‘κ·Ό β…
**ν…μ¤νΈ λ‚΄μ©**: μ ν¨ν•μ§€ μ•μ€ JWT ν† ν°μΌλ΅ API νΈμ¶
**μμƒ κ²°κ³Ό**: HTTP 401 Unauthorized
**μ‹¤μ  κ²°κ³Ό**: HTTP 401 β…
**ν‰κ°€**: ν† ν° κ²€μ¦μ΄ μ •μƒ μ‘λ™

### 3. μ¤‘λ³µ μ΄λ©”μΌ νμ›κ°€μ… μ‹λ„ β…
**ν…μ¤νΈ λ‚΄μ©**: μ΄λ―Έ κ°€μ…λ μ΄λ©”μΌλ΅ μ¬κ°€μ… μ‹λ„
**μμƒ κ²°κ³Ό**: HTTP 400 Bad Request
**μ‹¤μ  κ²°κ³Ό**: HTTP 400 β…
**ν‰κ°€**: μ΄λ©”μΌ μ λ‹ν¬ μ μ•½μ΅°κ±΄μ΄ μ •μƒ μ‘λ™

### 4. μλ»λ μ΄λ©”μΌ ν•μ‹ β…
**ν…μ¤νΈ λ‚΄μ©**: μ΄λ©”μΌ ν•μ‹μ΄ μ•„λ‹ λ¬Έμμ—΄λ΅ νμ›κ°€μ… μ‹λ„
**μμƒ κ²°κ³Ό**: HTTP 422 Unprocessable Entity
**μ‹¤μ  κ²°κ³Ό**: HTTP 422 β…
**ν‰κ°€**: Pydantic μ…λ ¥ κ²€μ¦μ΄ μ •μƒ μ‘λ™

### 5. μ΅΄μ¬ν•μ§€ μ•λ” λ¦¬μ†μ¤ μ ‘κ·Ό β…
**ν…μ¤νΈ λ‚΄μ©**: μ΅΄μ¬ν•μ§€ μ•λ” νƒμ¤ν¬ IDλ΅ μ΅°ν μ‹λ„
**μμƒ κ²°κ³Ό**: HTTP 404 Not Found
**μ‹¤μ  κ²°κ³Ό**: HTTP 404 β…
**ν‰κ°€**: λ¦¬μ†μ¤ μ΅΄μ¬ μ—¬λ¶€ κ²€μ¦μ΄ μ •μƒ μ‘λ™

---

## π” λ°κ²¬λ μ΄μ λ° κ°μ„ μ‚¬ν•­

### μμ •λ μ΄μ

#### 1. Docker Compose healthcheck μ‹¤ν¨ β… ν•΄κ²°λ¨
**λ¬Έμ **: backend μ»¨ν…μ΄λ„μ— curlμ΄ μ„¤μΉλμ§€ μ•μ•„ healthcheck μ‹¤ν¨
**ν•΄κ²°**: healthcheck λ…λ Ήμ„ Python urllibλ΅ λ³€κ²½
```yaml
# Before
test: ["CMD", "curl", "-f", "http://localhost:8000/api/v1/health"]

# After
test: ["CMD", "python", "-c", "import urllib.request; urllib.request.urlopen('http://localhost:8000/api/v1/health')"]
```

#### 2. CI νμ΄ν”„λΌμΈ λ°μ΄ν„°λ² μ΄μ¤ λ§μ΄κ·Έλ μ΄μ… λ„λ½ β… ν•΄κ²°λ¨
**λ¬Έμ **: GitHub Actionsμ—μ„ pytest μ‹¤ν–‰ μ „ λ§μ΄κ·Έλ μ΄μ… λ―Έμ‹¤ν–‰
**ν•΄κ²°**: CI μ›ν¬ν”λ΅μ°μ— `alembic upgrade head` λ‹¨κ³„ μ¶”κ°€

#### 3. ν™κ²½λ³€μ λ„λ½ β… ν•΄κ²°λ¨
**λ¬Έμ **: .env νμΌμ— POSTGRES_PORT, BACKEND_PORT, FRONTEND_PORT λ„λ½
**ν•΄κ²°**: .env νμΌμ— ν¬νΈ μ„¤μ • μ¶”κ°€

#### 4. FastAPI κ²½λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ β… ν•΄κ²°λ¨
**λ¬Έμ **: `/api/v1/projects` β†’ `/api/v1/projects/` λ¦¬λ‹¤μ΄λ ‰νΈ λ°μƒ (HTTP 307)
**ν•΄κ²°**: curlμ— `-L` μµμ… μ¶”κ°€ν•μ—¬ λ¦¬λ‹¤μ΄λ ‰νΈ μλ™ μ¶”μ 

---

## π“ μ„±λ¥ κ΄€λ ¨ κ΄€μ°°

### API μ‘λ‹µ μ‹κ°„ (μ°Έκ³ )
- Health check: < 50ms
- μ‚¬μ©μ μΈμ¦ (λ΅κ·ΈμΈ): < 100ms
- ν”„λ΅μ νΈ μƒμ„±: < 150ms
- νƒμ¤ν¬ μƒμ„±: < 120ms
- λ“κΈ€ μ‘μ„±: < 100ms

**μ°Έκ³ **: μ •ν™•ν• μ„±λ¥ μΈ΅μ •μ„ μ„ν•΄μ„λ” λ³„λ„μ λ¶€ν• ν…μ¤νΈκ°€ ν•„μ”ν•©λ‹λ‹¤.

---

## π”’ λ³΄μ• κ²€μ¦

### ν™•μΈλ λ³΄μ• κΈ°λ¥
- β… JWT κΈ°λ° μΈμ¦/μΈκ°€
- β… bcrypt λΉ„λ°€λ²νΈ ν•΄μ‹±
- β… ν† ν° κ²€μ¦ (λ§λ£, μ„λ…)
- β… κ¶ν• μ—†λ” μ ‘κ·Ό μ°¨λ‹¨
- β… μ…λ ¥κ°’ κ²€μ¦ (Pydantic)
- β… SQL Injection λ°©μ–΄ (SQLAlchemy νλΌλ―Έν„°ν™”)

---

## π§ ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€

### ν…μ¤νΈλ κΈ°λ¥
- β… μ‚¬μ©μ μΈμ¦ (νμ›κ°€μ…, λ΅κ·ΈμΈ)
- β… ν”„λ΅μ νΈ κ΄€λ¦¬ (μƒμ„±, μ΅°ν)
- β… νƒμ¤ν¬ κ΄€λ¦¬ (μƒμ„±, μ΅°ν, μƒνƒ λ³€κ²½)
- β… λ“κΈ€ μ‹μ¤ν… (μƒμ„±, μ΅°ν)
- β… κ¶ν• κ΄€λ¦¬
- β… μ—λ¬ μ²λ¦¬

### λ―Έν…μ¤νΈ κΈ°λ¥ (ν–¥ν›„ μ¶”κ°€ ν•„μ”)
- β³ ν”„λ΅μ νΈ μμ •/μ‚­μ 
- β³ νƒμ¤ν¬ μμ •/μ‚­μ 
- β³ ν”„λ΅μ νΈ λ©¤λ²„ κ΄€λ¦¬
- β³ νƒμ¤ν¬ λ‹΄λ‹Ήμ λ°°μ •
- β³ ν”„λ΅μ νΈλ³„ κ¶ν• κ²€μ¦ (Owner/Admin/Member)
- β³ λ“κΈ€ μμ •/μ‚­μ 
- β³ λ€μ‹λ³΄λ“ ν†µκ³„ API
- β³ ν•„ν„°λ§ λ° μ •λ ¬ κΈ°λ¥

---

## π“ κ²°λ΅ 

### μΆ…ν•© ν‰κ°€: β­β­β­β­β­ 5/5

TaskFlow μ• ν”λ¦¬μΌ€μ΄μ…μ ν•µμ‹¬ κΈ°λ¥μ΄ λ¨λ‘ μ •μƒμ μΌλ΅ μ‘λ™ν•λ©°, μ£Όμ” μ‚¬μ©μ μ‹λ‚λ¦¬μ¤κ°€ λ¬Έμ μ—†μ΄ μν–‰λ©λ‹λ‹¤. μ—λ¬ μ²λ¦¬ λ° λ³΄μ• κΈ°λ¥λ„ μ μ ν•κ² κµ¬ν„λμ–΄ μμµλ‹λ‹¤.

### μ£Όμ” μ¥μ 
1. **μ•μ •μ μΈ API**: λ¨λ“  μ—”λ“ν¬μΈνΈκ°€ μ •μƒ μ‘λ™
2. **μ μ ν• μ—λ¬ μ²λ¦¬**: μμ™Έ μƒν™©μ— λ€ν• λ…ν™•ν• HTTP μƒνƒ μ½”λ“ λ°ν™
3. **λ³΄μ• κ²€μ¦**: μΈμ¦/μΈκ°€κ°€ μ¬λ°”λ¥΄κ² κµ¬ν„λ¨
4. **λ°μ΄ν„° μΌκ΄€μ„±**: ν”„λ΅μ νΈ-νƒμ¤ν¬-λ“κΈ€ κ°„ κ΄€κ³„ μ μ§€

### κ¶μ¥μ‚¬ν•­
1. ν”„λ΅μ νΈ μμ •/μ‚­μ  API ν…μ¤νΈ μ¶”κ°€
2. ν”„λ΅μ νΈ λ©¤λ²„μ‹­ λ° κ¶ν• κ΄€λ¦¬ ν…μ¤νΈ μ¶”κ°€
3. λ€μ‹λ³΄λ“ ν†µκ³„ API ν…μ¤νΈ μ¶”κ°€
4. λ¶€ν• ν…μ¤νΈλ¥Ό ν†µν• μ„±λ¥ λ²¤μΉλ§ν¬
5. ν”„λ΅ νΈμ—”λ“ E2E ν…μ¤νΈ (Playwright/Cypress)

---

**ν…μ¤νΈ μ¤ν¬λ¦½νΈ μ„μΉ**: `/test-e2e.sh`
**μ‹¤ν–‰ λ…λ Ή**: `./test-e2e.sh`
**μ‚¬μ „ μ΅°κ±΄**: Docker Compose μ„λΉ„μ¤ μ‹¤ν–‰ μ¤‘ (`docker compose up -d`)

**μ‘μ„±μ**: QA Team
**λ¦¬λ·°**: 2026-02-11
